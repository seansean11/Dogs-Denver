function initialize(){var e=new google.maps.LatLng(39.741049,-104.958437),t={zoom:15,center:e,scrollwheel:!1},n=new google.maps.Map(document.getElementById("js-park-map"),t),i=(new google.maps.Marker({position:e,map:n,title:"Josephine Gardens Dog Park"}),DENVERDOGS.debounce(function(){var e=n.getCenter();google.maps.event.trigger(n,"resize"),n.setCenter(e)},250));google.maps.event.addDomListener(window,"resize",i)}function loadScript(){var e=document.createElement("script");e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&callback=initialize",document.body.appendChild(e)}var DENVERDOGS=function(){function e(e,t){for(;e;){if(t(e))return e;e=e.parentNode}}function t(e){e.addEventListener("click",function(){e.removeAttribute("href"),e.classList.add("no-mas"),setTimeout(function(){e.classList.remove("no-mas")},700)})}function n(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.send(),i.onload=function(){if(i.status<400&&i.status>=200){var e=document.implementation.createHTMLDocument("xhr");e.documentElement.innerHTML=i.responseText;var o=e.getElementById(t);n(o)}else{var s=JSON.parse(i.status);console.log(s)}i.onerror=function(){console.log(i.statusText)}}}return this.debounce=function(e,t,n){var i;return function(){var o=this,s=arguments,a=function(){i=null,n||e.apply(o,s)},r=n&&!i;clearTimeout(i),i=setTimeout(a,t),r&&e.apply(o,s)}},this.stickyNav=function(){var e=document.querySelector(".hero"),t=document.getElementById("js-nav-main"),n=this.debounce(function(){var n=e.offsetHeight-window.scrollY;0>n&&!t.classList.contains("is-shown")?t.classList.add("is-shown"):n>0&&t.classList.contains("is-shown")&&t.classList.remove("is-shown")},250);window.addEventListener("scroll",n),window.addEventListener("resize",n)},this.carousel=function(){var e=document.getElementById("js-park-gallery"),t=e.children;if(t>1){new Flickity(e,{cellAlign:"left",contain:!0})}},this.fakeAjax=function(){var e=document.querySelectorAll(".js-ajax");if(e.length)for(var t=0;e.length>t;t++)e[t].addEventListener("click",function(e){var t=this.getAttribute("href");t.indexOf("http")>-1&&(document.body.classList.add("is-loading"),e.preventDefault(),setTimeout(function(){window.location.href=t},500))})},this.infiniteLoad=function(){var e=document.getElementById("js-news__grid"),i=document.getElementById("js-ajax-infinite");i.addEventListener("click",function o(s){i.classList.add("is-busy");var a=i.getAttribute("href");s.preventDefault(),n(a,"news",function(n){var s=n.querySelectorAll(".news__item"),a=n.querySelector("#js-ajax-infinite");a?i.setAttribute("href",a.getAttribute("href")):(i.setAttribute("href",""),i.removeEventListener("click",o),t(i));for(var r=0;r<s.length;r++)e.appendChild(s[r]);setTimeout(function(){i.classList.remove("is-busy")},300)})})},this.fastClick=function(){document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1)},this.autoScroll=function(){smoothScroll.init()},this.mapToggle=function(){var t=document.getElementById("js-map-toggle"),n=e(t,function(e){return"park__images"===e.className});t.addEventListener("click",function(e){n.classList.toggle("is-map"),e.preventDefault()})},this.dogBark=function(){var e=document.getElementById("js-bark-audio"),t=document.getElementById("js-bark-hover");t.addEventListener("mouseover",function(){e.play()})},this.mobileNav=function(){var e=document.getElementById("js-nav-main"),t=document.getElementById("js-mobile-nav"),n=e.querySelectorAll("a");t.addEventListener("click",function(t){e.classList.toggle("mobile-active"),this.classList.toggle("is-open"),t.preventDefault()});for(var i=0;i<n.length;i++)n[i].addEventListener("click",function(){e.classList.remove("mobile-active"),t.classList.remove("is-open")})},this.init=function(){this.debounce(),this.stickyNav(),this.carousel(),this.fakeAjax(),this.infiniteLoad(),this.fastClick(),this.autoScroll(),this.mapToggle(),this.dogBark(),this.mobileNav()},this}();DENVERDOGS.init(),window.onload=loadScript;